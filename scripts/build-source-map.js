const fs = require("fs");
const path = require("path");
const sourceMap = require("source-map");

const root = process.cwd();

// Path to file that is generated by your build tool (webpack, tsc, ...)
// .webpack/arm64/main
const GENERATED_FILE = path.join(root, '.webpack', 'arm64', 'main', 'index.js.map');

// Line and column located in your generated file (for example, the source
// of the error from your minified file)
const GENERATED_LINE_AND_COLUMN = { line: 1, column: 1000 };

const rawSourceMap = fs.readFileSync(GENERATED_FILE).toString();
new sourceMap.SourceMapConsumer(rawSourceMap).then(function (smc) {
  const pos = smc.originalPositionFor(GENERATED_LINE_AND_COLUMN);

  // You should see something like:
  // { source: 'original.js', line: 57, column: 9, name: 'myfunc' }
  console.log(pos);
});